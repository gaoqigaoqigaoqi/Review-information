<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>计算属性</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

</head>
<body>
<div id="example">
    <p>{{msg}}</p>
    <p>{{reversemsg}}</p>
    <p>{{now}}</p>
    <hr>
    <div>{{fullNam}}</div>
</div>
</body>
<script type="text/javascript">
    var vm = new Vue({
        el:'#example',
        data:{
            msg:"hello vue",
            msg1:"计算属性翻转",
            firstName: 'Foo',
            lastName: 'Bar',
            fullName:'fullname',

        },
        // 计算属性
        computed:{
            reversemsg:function () {
                return this.msg.split('').reverse().join('')
            },
            now:function () {
                return Date.now()
            },
            fullNam:{
                get: function(){
                    // 默认只有get方法，自动获取get的返回值,可以自定义set
                    return this.fullName = this.firstName+'  '+this.lastName
                },
                set: function (newVal) {
                    var names = newVal.split('')
                    this.firstName = names.slice(0,2); // slice进行切片
                    this.lastName = names[names.length-1]

            },

            },


        },
        // 侦听属性
        // watch:{
        //     firstName: function (val) {
        //         this.fullName ='  '+this.firstName
        //     },
        //     lastName: function (val) {
        //         this.fullName = this.firstName + ' ' + val
        //     }
        // },
    })
    // 监听变量变化
    // vm.$watch('fullName',function (newval,oldval) {
    //         console.log(newval,oldval)
    // })
    vm.fullNam = 'Tom Hi'
</script>
</html>